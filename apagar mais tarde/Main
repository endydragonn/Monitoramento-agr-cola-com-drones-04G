public class Main {
    public static void main(String[] args) {
        try {
            // Exemplo de pagamento PIX
            Pagamento pix = new Pix(150.0, "meu-email@dominio.com");
            if (pix instanceof Autenticavel autenticavelPix) {
                boolean authPix = autenticavelPix.autenticar("123456");
                if (authPix) {
                    System.out.println("Autenticação PIX bem-sucedida.");
                    pix.processar();
                } else {
                    System.out.println("Autenticação PIX falhou.");
                }
            }

            // Exemplo de pagamento com Cartão de Crédito
            Pagamento cartao = new CartaoCredito(200.0, "1234567890123456", "123", "12/25");
            if (cartao instanceof Autenticavel autenticavelCartao) {
                boolean authCartao = autenticavelCartao.autenticar("654321");
                if (authCartao) {
                    System.out.println("Autenticação Cartão bem-sucedida.");
                    cartao.processar();
                } else {
                    System.out.println("Autenticação Cartão falhou.");
                }
            }
        } catch (IllegalArgumentException e) {
            System.out.println("Erro na criação do pagamento: " + e.getMessage());
        }
    }
}
